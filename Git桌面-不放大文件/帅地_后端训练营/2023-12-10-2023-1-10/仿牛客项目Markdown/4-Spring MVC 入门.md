4-Spring MVC 入门.mp4

说话人1 00:01
这。

说话人2 00:08
节课我们来学习spring mvc框架，这个框架是用来做外部开发的，之前我们也说过，所以我们在学这个框架之前，还需要先了解一下 HTTP协议，因为这个协议它是做外部开发的一个基础，整个外部开发基于这个协议进行的， HTTP它是一组单词的缩写，是这组单词， help text transfer protocol。


那么翻译过来就是超文本传输协议，超文本其实就是网页，网页就是超文本标记语言，所以这个协议是用来传输html以及和html有关的内容的一种协议，它是位于应用层的协议，它的底层是基于 TCP的，然后这个协议它大概规定了两方面的内容，第一个它规定了浏览器和服务器之间怎么去通信。


第二个它规定了你们双方通信的时候，这个数据的格式是怎么样的，那么具体的内容规定在官方的手册里可以详细的查阅到，那么从这个网站上可以看到，不过这个网站它的内容，它的手册写的比较学术化，很学术，然后也非常的长，所以阅读起来的话比较吃力不太方便，因此一般其实从事外部开发或者从事前端开发的人，他更愿意去看这个网站某z了，点org。


那么木子叶拉是一个组织，它是从 fax也就是火狐浏览器的团队发展而来的一个组织。


那么因为他们是做浏览器的，他对这个协议理解得很深刻，然后他们官网上也有对这个协议的解读，而且这个手册质量是非常高的，另外它还支持中文这一点，特别适合我们去阅读，所以今天我们就看这个网站的相关的内容，好，我打开看一下，当然这个网站打开它默认的是英文的，然后在最下方最底下你可以选这个语言，我这是已经选好了，所以已经是中文了。


然后这个网站它里边是包含了html css和GS相关的手册，也包括 HTTP相关的手册，我们看的是 HTTP。


好，这个手册一开头对这个协议做了一个概要的介绍，然后后面有的是详细的内容，这个内容是很多的，我课上没有办法给大家都看一遍，那么我们挑重点的就是看一看，了解一下，然后好学习后面的内容，那么其他的内容大家课后有精力，你最好自己去阅读一下。


好，我们看的就是 httv概述，主要是了解了这个协议它到底规定的是什么东西，这个内容也挺多的，我们主要是看这两部分，我们先看这一部分，这一部分它讲的是 HTTP协议它所规定的浏览器和服务器通信的步骤，浏览器和服务器之间的通信大致分为4个步骤，第一步他们之间需要建立1个连接，这个连接是TP连接。


第二个是浏览器要向服务器发送一段消息，这段消息叫HTTP报文，它的格式大体上是这样的，这个不用记了解。


第三个是服务器收到了报文以后进行解读，然后知道了你的诉求，于是它会解决你的问题，并且给你返回一段信息，这段信息也叫报报文，返回的报文。是这样的格式最后浏览器要么关闭连接，要么让这个连接保持开启的状态，然后一会儿复用，这个是得看这个协议的版本。


好了，这就是大概浏览器和服务器通信的4个步骤。然后下一小节又介绍了他们通信的时候传输的数据的格式，然后浏览器向服务器发送的报文叫请求浏览器向服务器发出的是请求，请求的报文大体格式是这样的，看这一段信息。


首先第一行这个单词指的是请求的方式，请求的方法，分为get、 post等等，具体来说我们后面代码中会有演示，到时候你对他就有一个了解了。


这个是请求的路径，它默认的话就给了一个斜线，其实可能会更复杂，我们在项目中然后这个是请求的协议的类型，这里他给的例子是1.1版本。


然后还有一段信息，这段信息其实不只是两行，其实还有更多的行这个叫请求的消息头 head头，然后它包括你请求的你的域名，你的语言等等，其实还有一些其他的内容。


然后其实还有一段消息就是你向服务器传送的业务数据，因为每。

说话人1 05:44
一个。

说话人2 05:45
团队开发的业务不一样，所以他没有办法预计你是什么业务数据，所以他就没有列举出来，但是还有一段是封装的业务数据叫请求体 request body，然后下面是。

说话人3 06:02
服务器。

说话人2 06:04
向浏览器返回的报文，报文叫响应报文或者叫响应的数据，那么响应的报文其实也是由三部分构成，这个叫状态行，这个叫响应的头其实还有一个响应体，响应体也是封装的是业务数据，他也没有列举出来。


那么状态行第一部分是协议的类型版本，第二部分这个是状态码，比如说200就表示说响应成功了，没有问题。


然后 ok是响应的状态的一个解释，然后下面这一大段是响应的头，它里面包含了很多服务器相关的消息，包括响应的日期，服务器的类型数据，最后修改的时间，以及它的长度格式等等。


那就是大家先对 HTTP协议它大体上有一个了解，那么没有记住没有关系，后面我们在开发的时候，当你哪块忘了哪块有困扰的时候，随时随地再来看一下，一来二去的话就熟悉了。


好，然后除了概述以外后退一步，那么针对这个协议的每一部分，它后面还有更详细的解释，比如说请求方式，这里有更详细的解释，比如说 headers这里有更详细的解释，还有那状态码这里有更详细的解释等等，那么其他的内容我们就不详细看了。


然后。

说话人3 07:44
那么。

说话人2 07:45
当我们需要对哪一哪个地方做出更深入的了解时，我们再看。


那么关于这个协议，我们除了去阅读手册以外，其实我们通过浏览器的插件，或者是我们通过一会写代码，其实也能够看到他这个请求，或者是响应相关的数据，我们现在不妨就看一下，我们现在不是有浏览器吗？


我就打开浏览器的插件去看一下请求和响应的相关的数据，然后怎么看是这样的，右键检查，当然了不同的浏览器插件的使用方式可能会有所区别，但区别不是很大，我这里用的是谷歌浏览器，chrome，所以说我也建议你和我用一样的浏览器，这样的话操作方式就一样了，就比较方便。


好，打开了这个插件以后，那么要想看请求和响应的数据，我们需要点 net work，网络，但是目前它底下什么都没有，没关系，我直接刷一下当前的网页，你一刷网页，这个浏览器不就是访问了某贼拉的服务器，它就不是产生了一个通信，那就有请求数据就有响应数据我们就能看到，好我刷新一下看看。


好，那么你看底下每一条其实就是一次请求，这个请求怎么这么多呢？我一会再解释，那么我们先看第一个请求，好点一下，然后右侧打开的窗口就是与请求相关的内容，然后 general里边他列举的是请求数据和响应数据当中的一些关键信息，包括请求的路径，包括请求的方式，包括响应的状态，包括 IP。

说话人3 09:48
包括。

说话人2 09:50
其他的一些内容。


好了，然后还有他列举了请响应的消息头，risk boss响应还得是服务器给浏览器返回的数据的头部的内容。


那么你看它包含这么多内容，其实和刚才我们在那个文档里看的也是大体上是一致的。


然后还有request，harders请求的消息头就是浏览器向服务器发送的数据的头部的信息有这么多内容，比手册上的都很多好了，这些内容不用记。


反正有个了解，我们开发的时候其实也不用直接操作这些数据，他们都是自动的，但是你有个印象，万一将来你有什么特殊的需求，可以需要用到这些数据的时候，有个印象会比较好一点。


除此以外，我们在这个地方点 response是响应的消息，就是服务器给我返回的消息，你可以看一下，其实它返回的不就是一个网页的代码，然后还有preview，你可以预览一下，响应的代码的效果是这样的效果，当前的网页这都没有问题。


其实我们通常看的就是 Heider cz，尤其是我们将来调试程序的时候，有些时候报错了，我们可能会看一下我们发的请求数据或者是想的状态是不是有什么异常，将来的话我们讲调试的时候再说。


好了，再回过头来再解释一下，刚才我们在 net work里看怎么有这么多次请求，这个我画图给大家稍微解释一下，好，我打开我的画图工具，那么假设这个是浏览器，这是我的浏览器，假设这个是我的服务器，假设是某贼拉的服务器，两者之间产生通信，那么浏览器访问服务器，服务器给它返回的是什么呢？


给它返回的是刚才我们也欲揽看到了是一个html对吧？是一个html，浏览器得到这个aychem以后会怎么样？会进行解读，进行解析，然后去渲染相关的内容。


然后在解析的过程中，他会发现网页里这段代码引用了一个css文件那个地方，引用了一个js文件，还有地方引用了图片文件，所以它在解析网页的过程中会发现网页是依赖于各种各样的文件的，那么他发现了某一个文件就会再向服务器做一个请求，然后服务器给它返回一个它所需要的依赖的文件，比如说本次请求返回的是一个css文件，然后比如再来一个请求，服务器给它返回的是一个js文件，以此类推，就是你网页上依赖了多少个文件，所以它后续还会发送的多少个请求，以加载这些文件。


对于我们来说，我们重点关注的是第一个请求网页返回来的有没有问题？如果网页没问题，这些个css Js图片通常问题不大，我们不用过度的关注好了，所以说这样的话就大概了解了为什么有这么多次请求，是因为网页上所依赖的资源造成的。好，我们再回到PPT，了解了这个协议之后，下面我们就可以开始学习 spring mvc了。


那么关于spring mvc，我在说他之前先说一下，我们做服务端开发，其实我们的代码是有层次的，你看上次课我们开发的时候不是加了好几层包，其实就是对服务端代码进行分层。如果你不分层，你用一个类去写也能写，但是这一个类当中做的事太多了，太杂了，耦合度太高了。那么当这个代码规模变大以后，它就变成不容易维护，甚至不可控了。我们分层的目的是为了解耦，是为了让这个代码是更有利于维护。


服务端的代码通常是分为三层的，它是三层架构，分为表现层、业务层和数据访问层。那么浏览器访问服务器首先访问的是表现层，期待表现层给它返回一些数据，而表现层它会调用业务层去处理业务，业务层在处理业务的过程中会调用数据库数据层。


当然这个调用数据层可能是一个多次的行为，表现层访问业务层可能也是一个多次的行为，最终表现成得到业务层返回的数据以后，稍微加工一下就返回给浏览器，整个请求就会结束，这是服务端的三层架构。


那么spring mvc中的 Mvc指的是什么意思？它和三层架构有什么关系，这个有必要把它搞清楚。那么mvc它是一种设计模式，这种模式的就是理念是将复杂的代码分为三个层次，注意也是分为三个层次，所以很多人很容易将 mvc这三层服务端的三层的结构去做一一的对应，但其实是对应不上去的。


那么 mvc的m是model，模型层其实就是数据层，数据will是视图，control是控制，这三者是怎么协作的？是这样的。


 Mvc它主要其实解决的是表现层的问题，然后他们的关系是这样的，当浏览器发送请求访问这个服务器的时候，它访问的是 control的控制器，仿的是组件，那么这个组件会接收请求中的数据，然后调用业务层去处理，处理完以后它会将得到的数据封装到model里面，然后把它传给这个视图层，然后视图层利用 model数据生成一个html然后返回给浏览器，所以浏览器最终是通过视图上得到了一个html总之 CTRL是用来处理浏览器的请求的，负责调度的，而view只负责渲染，只负责展现，他们是各司其职，而他们之间联系的纽带是 model，是这样的一个关系。


好，所以你一定要记住咱们服务端三层架构分为这三层，而mvc这个模式也是分三层，但是这三层是集体解决表现层的问题，是这样的。


好了，另外这个是不是mvc这三层是谁去调的？其实它是不是mvc里呢？有一个核心组件，核心组件叫做前端控制器，那么。

说话人3 20:20
实际上。

说话人2 20:21
就是一个累就despatcher，serval eyot其实comptroller也好，还是veal也好，都是由这个类去调度的，它怎么去调度的，有必要了解一下，因为这涉及到是super mvc底层的一些原理，我们在写代码之前最好把这个原理弄明白， Dispatch server类的和这些组件之间的关系，我们从 spring官方的手册是可以查阅到的，我们去看一下。


好，那么我去看一下 spring点io官方手册，然后点projects，spring for work。Learn好，我看最新的版本5.1.7，然后我们要看的是spring mvc的内容在这儿。当然了我们不要去阅读大段的文字，内容太多了，我主要是想给你看一个图，通过这个图能够得到一些信息，也是比较直观的看一下，好，就这个图，它这个图大概的意思是 Despatcher serverlet是整个spring mvc的核心，那么 spring mvc当中所涉及的所有组件都是在他的管理之下的，你看他画这个框就表达了这个意思。


当然他管理这些个组件的前提是基于spring容器， application context其实就是space容器好，它能管理谁？它能管理我们所写的controller，他能管理我们所写的当然CTRL了能去调 Service以及 repository，其实业务层和数据访问层是通过 CTRL的他们去调的，然后它controller除了管理controller之外，它还能管理一个组件叫will resolve，其实就是视图解析器就是图层，然后还能管理一个组件叫handle my pin，这个映射的一个组件，其实就是我们挑一个路径，然后路径与control的相匹配，由谁来匹配？


其实这就是 handwriting，我们所写的注解，瑞克斯买品注解，其实就是由他来管理的。


好了，总之 controller试图以及。

说话人3 23:14
映射。

说话人2 23:15
相关的注解，相关的组件，其实都是由 despatcher serverlet去调度去管理的。


但是这个图它有点笼统，它没有。

说话人3 23:24
划清楚。

说话人2 23:26
它们之间调用的顺序是怎么样的，只是有一个大概的说明。

说话人3 23:30
那么。

说话人2 23:32
新版新的手册不知道为什么把一个图给去掉了，但是在比较老的手册里面还有有一个图更直观一点，不管出于什么目的，我们去查阅一下那张稍微早一点的图，也能够得到更直观的信息，我们再看一下，我后退一下，我看一下4.3.24，这里边就有那个图，好稍等。


然后它目录挺长的，因为它没有分组都揉在一起了，我搜一下我搜 m VC不在这儿，在这儿。就是 web mvc for the work点一下看看这个细节，文字我就不看了。


然后我主要是找那个图就是这个图，但这个图画的不好看，但是它的意思这个流程还是比较清楚的，比刚才那个图我感觉要更直观一点，然后他画的大方块，什么是serve layed？Ange。就是servitor引擎，其实就是服务器，比如tomcat，然后这些程序都是位于Tom Ford之内运行的，那么浏览器访问服务器由谁来处理？请求有一个组件叫前端控制器来处理，前端控制器是谁？


它上面也有介绍，前端控制器它就是despite a salade，好了，那么所以请求统一都由前端控制器despatcher serverlet处理，然后 despatcher serverlet会根据你写的注解，映射的注解，就是你的 CTRL上面的路径，或者是方法上路径去找到 controller去调用它，然后 controller最终会把数据封装的model里返回给 controller，当然整个封装我们这次可能会有演示，这里就是封装了页面想要的数据，那么CTRL得到这个数据以后，它会去调用 view template就是视图模板，然后并且把 moto给这个模板是一个是一个文档，然后它里面有一些特殊的符号，可以用 model中的动态的值去替换完以后就可以生成一个动态的网页，因为这个数据是动态的，替换完以后生成的网页是动态的，生成一个aychem以后返回给 dispatcher caelate，那么他再把 html返回给浏览器或者说响应给浏览器，返回响应的消息就是这么一个过程，当然这个过程是spring mvc它底层的一个原理，你最好能够理解，你最好也能够记住，然后可能在面试的时候需要你讲一讲，然后我们开发的时候其实不用对前端控制器做什么处理，它是自动去运行的，需要我们编码的地方就是CTRL了，就是这个模板就是 model这三部分，其实就是mvc这三部分，好了，我们再回到 PPT以上就是我对 spring mvc的一个解释，总之重要的有两点，第一点就是你要理解 mvc这个模式它解决的是哪个层次的问题，它是怎么解决的。


第二个，那么你要理解 spring mvc的底层核心的组件是谁？他是怎么去调度mvc这三层代码的，你要了解。


好了，那么我们之前也写过一些死，不然mvc的代码 CTRL我们所写的CTRL其实就是控制层控制器，但是我们还没有写过 view，这个视图没有给浏览器返回过，html这次课我们会做演示，但是如果说你想给浏览器返回一个动态的网页，我们还需要另外的一个工具去支持。


那么这个工具叫做模板引擎，模板引擎其实有很多的目前最流行的一个模板引擎就是叫time leave。好，其实无论是什么是什么类型的模板引擎，它的这个作用它的价值都是一样的，它都是用来生成动态的。Html的就刚才我也说了，最终的话模板引擎利用猫的数据给你拼一个html，然后反馈给浏览器对吧？所以它的作用就是用来生成动态的html的。


那么模板引擎是怎么生成动态的html看这个图，这是模板引擎其实就是一个对象，那么它要想生成html，你需要给它两个东西，第一个是模板文件，那么这个模板文件包含了网页基本的结构，除此以外还包含了那一些表达式，这个表达式就可以被model中的数据所替换，那么你猫都给它什么动态数据，它生成的html就有所变化，所以说模板引擎它需要两个东西，一个是模板文件，一个是猫的数据，最终它会把这二者合二为一拼成一个网页，是这么一个原理。


好了，那么众多模仿引擎当中 time leave比较流行用的比较多，为什么？因为他的理念比较先进，他倡导的是叫做自然模板，什么叫自然模板？就是以html文件为模板，其实其他的模板引擎它可能以其他类型的文件为模板，比如说很多人应该听过GSP， Gsp它是以点JSP文件为模板，不同的文件这有什么区别呢？


区别就在于 html文件，基本上做外部开发的他都懂，他都能看得明白，比如说我们服务端的程序员，我们开发这个模板，遇到点什么问题需要调一下样式，需要改一下标签对吧？


需要改一个GS可能有些地方水平有限，我需要求助于前端工程师，前端工程师一看这是skml我能搞得定，你反过来的话你给他看一个JSP，可能他就不敢帮你去改，因为什么？他看不懂 Jsp的文件，明白吧？


所以说你用 html便于团队成员之间的交流，谁都能看得懂。然后如果用其他格式的文件，那么就会增加别人学习的负担，你还得多学一种格式不是。好了，那么关于 time leave，其实别的模板引擎也是那么无论是什么模板引擎，我们重点要学的就是三方面的内容。第一个是它的标准表达式，就是页面上哪些数据哪些地方需要被动态的数据替换，那么这个是由标准表达式来解决的。


第二个是判断与循环，那么我们在渲染数据显示数据的过程当中，可能有的时候需要判断一下这个数据是不是空值，有的时候判断一下这个数据，比如说等于0的时候我要怎么处理它，等于一的时候我又要怎么处理，经常有这样的逻辑，所以判断是很重要的。另外还有循环，因为有可能model给我的数据是一个集合或者是一个数组，我需要循环的去处理，所以判断与循环也非常的常用。第三个是模板的布局，因为。

说话人3 31:47
你。

说话人2 31:48
看过咱们我给你发的，当然我传到网站上的。


静态页面的时候，你会发现其实很多页面它的结构是非常相似的，上中下上边和下面还都一样，我们怎么去将一样的区域能够复用，这就是模板布局所做的事情。


总之无论是什么模板引擎，那么这三方面都是我们学习的重点。


这个课上我们后续都会陆续的用到，然后 time leave官网是这个网址我们可以进去先看一下，好这是time leave的官网，它就没有中文了，就只有英文了。然后我们要看的是文档，你就点 DOS，然后你可以点 read online，在线阅读，然后这就是它文档的详细的内容。


这个内容是非常多的，那么我们课上就不去一点一点的看了，反正它的核心的内容重点的内容我都进行了提炼，然后会运用到项目中，那么常用的内容我们在项目中就都会学会，那么其他的内容有时间你自己看一看好了。

说话人1 33:10
那么。

说话人2 33:11
关于spring mvc我们入门需要了解的一些的概念，我都已经介绍过了。


下面案例演示的环节，我打开这个idea给大家演示一些案例，让你去从代码的层面去深入的理解 CMV它到底是怎么回事。好 ID我已经打开了，那么在写这个代码之前，我想先对 time leave做一个配置，在 application的practice里做配置配什么呢？我想把 time立法它的缓存关掉，它默认是启用缓存的，因为有 simple的他们自动的配置为什么要把 timeless的缓存关掉？

说话人3 34:01
因为如果模板。

说话人2 34:03
的缓存你不关掉，那么它就有缓存以后可能是我改了页面，然后你看的还是缓存的内容还是旧的，内容没有刷新，因为它有一个。

说话人3 34:13
延迟。

说话人2 34:15
所以说我们开发的时候模板的缓存最好是不要开启，要不然麻烦。


但是我们系统上线以后，模板的缓存就应该开启，因为它会有缓存吗？会降低服务器的压力。然后 time leave的缓存的关闭，我先写上这样写。是spring点儿，time leave点儿开始等于force。好，顺便我想讲一下配置文件为什么是这样写的？就这个字符串它代表什么含义？为啥是这样的？包括以前我们写的为啥是这么写？那么 Application叫practice里，它各种配置，其实我们从spring boot的官方手册上，它有一个附录，能够查到它针对每一个方面的配置，常用的配置都有一些示例，然后你通过示例能看到，我们去看一下，我再访问一下 spring点io然后我看的是 spring boot对。


2.1.5，好了，那么他常见的配置的举例是在附录里，是在比较靠后的位置，我找一找非常靠后了，它目录很长附录。


好点进去看这段代码它所有常用的配置的一个列举，当然并不是全部的常用的基本上都包含了，然后如果你想找time leave，你可以搜一下，搜一下很容易就搜到了 time leave。那么你从这就能够找到，你看time leave它的缓存是怎么启用或怎么关闭的等等。当然其他的配置也有就很多了，所以说如果你想知道哪方面怎么配，就查这个手册这一部分去看就可以了。


然后再说一下我们写的配置其实是配的是什么，其实是给一个配置类注入数据是给一个配置类，注入数据，数据配置类是什么？它这有介绍，比如timeline复制，timeless output condition我们可以看一下类，数据是给一个配置类注入数据，这个配置类是什么？它这有介绍，比如timeline复制，timeless output condition我们可以看一下这个类可以搜一下 Ctrl n售假贪利凹凸consideration好放大一点。


这个类它有一个注解，说enable configuration practice配置的practice文件，指的是time live practice，其实这里是详细的参数的配置，所以你还得看 time leave practice，那么time leave它是给了一个out to consideration，通过out to condition找到什么practice，而其他的其实他都给了什么practice比较直接了，这个有点绕。


好，其实我们要看的就是这个东西， time leave practice，然后这个类上写了这么一个注解，注解上写了说 practice等于这句话也就是说我们在配置文件里写 spring点time live，其实引用的是类 bean，然后我们写点catch，其实是给这个病的 catch、属性、赋值，所以这个类其实就是time leave的配置文件它默认的catch是two，然后我们通过配置文件就可以改变这个值。


当然了同理你也可以写 spring time live点其他的属性，改变其他的属性的值。


同理这个server也是类似的，这个server其实它的配置文件配置类是谁也可以从手册上找到，我估计是在比较靠前的位置，以server开头的，找到了这个server点什么server的配置对应的是类 server process我们也可以看一下，看中文搜一下server practice。


你看它的前缀就是server，所以你server点给里头配置，server点part改的是然后server点servitor搜一下，server点serve late。


其实改的是是它，而它又对应的是一类，所以搜点搜类的其实指代的是这个类，然后 contact pass指代的是类的属性，所以你看其实他这个配长其实很简单的，其实我们这样写给某一个并注入值的意思，好了，我把具体它是配置哪个类在这里写个注释，课后你也可以自己去看一看，然后这个是time leave practice好了以后，那么再有这样的配置的时候，我就直接把配置写出来了，然后并且注释里写上配置它对应的配置类是什么，具体配置类是什么样，你自己去看一看。


因为通过这一个一次讲解，基本上原则你就应该能掌握，能明白了，以后的话自己就能看懂好了。


那么配置好以后，下面我就要开始写代码去演示 super mvc的一些常用的语法，那么这个代码我们需要写在哪儿？因为spring mvc刚才不是讲了吗？它解决的是视图层的问题，而这个视图层我们第一个要写的是controller对吧？当然controller会组织数据封装到model里， Model那个类本来就有，你不用写，我们可以拿来用，另外还要写这个模板引擎所需要的模板，这个模板放在哪儿放在这儿，所以视图层的两部分代码，一个是在这，而这个是业务层，这个是数据访问层，就是这样的一个结构。


好，我们这次课是小的例子演示，它的语法我们就不去调service，不去调到了，只是一个事例而已。好，我再打开阿尔法CTRL，然后在这里边给大家做一些实例的演示。那么首先给大家演示什么？演示一下我在spring mvc框架下，我怎么获得请求对象，怎么获得响应对象，请求对象显然里边就封装了请求的数据，响应对象就封装了响应的数据，他们分别能够处理请求处理响应。


当然了这个是比较底层的行为。


实际上 Spring mvc对它做了一些封装有更简便的方式，但我想先讲，因为我想你最好能够理解比较底层的一些机制，那么我们简单的方式都是对就是这种麻烦的方式做的封装，或者说对这些底层的组件对象做的封装而已。


好，那么我就写一个方法，这个方法的访问路径先声明一下，request卖品就叫HTTP好，然后这个方法我先不写risk boss body了，然后写怕被y然后就叫HTTP，好，为什么没有法规的类型了？为什么没有返回值了？因为我们通过 Response对象可以直接向浏览器输出任何数据，就不依赖反馈值了。


那么如果你想获取请求对象，响应对象只需要在这个方法上加以声明，你声明了这两个类型以后，那么dispatcher servlet去调这个方法的时候，就会自动的把那两个对象传给你，它在底层就把那两个对象创建好了， request，对象的常用的类型，其实它是接口，好几层接口，我们常用的接口是 HTTP，servlet request，请求对象放大一点，然后响应对象和它类似HTTP servlet response。


好，request、请求，response响应。好，那么我们在这个方法里就利用这个对象处理一下请求，处理请求就是读取请求当中所包含的数据。怎么读，我给你做一个演示，先写个注释，我在这要获取请求数据来利用这个对象，然后取到数据以后我就直接输出了get master获取请求方式。好再来它有很多数据我举几个比较常见的 get。So really pass就是请求的路径。


好，然后还有请求行有很多数据，那么他做了一个封装，我们可以通过request点get hide names，得到所有的请求，行的key是key value结构，所有的key我们得到的是一个迭代器，迭代器是一个很老的迭代器，叫e number瑞士，然后它里边 key是一个字符串类型。


In，number reason，其实它的功能其实和艾特瑞特是一样的，只不过它比艾特瑞特更老。现在不推荐使用了，但是 Request对象很早就有了，所以它一直用的是这个类型没有变。那么对于迭代器对象，我们需要通过while加以遍历， elaboration点儿还small，elements是否还有更多的元素？如果有的话，我就从中获取enough reason点。


Next element就取到当前的一个值，取到的是什么？是一个k其实就是请求行的一个名字， name，然后 Name有对应的value，这个value我们通过request可以得到也是字符串， request get hider，你把name传入会得到一个value，然后在这我把 t和value一起输出来看一下，中间我们用冒号分割一下。


好了，这就是请这两个数据其实是请求行就第一行的数据，中间的这些这个是请求的消息头若干行的数据，除此以外其实还有请求体包含的业务数据，其实包含的参数，一会我在访问这个方法的时候随便传一个参数进来，我们假设传一个扣的进来，我通过request怎么得到这个参数，其实非常方便演示一下。


就像request的get parameter参数的意思吗？参数名叫code就写code就可以了。所以以上就是我们通过request对象获取相关数据的办法，主要是这么几种办法。然后下面我再演示一下 Response怎么用。Response是用来向浏览器做出响应的对象，它是给浏览器的返回响应数据的对象，我也给你演示一下返回响应数据，那么返回响应数据首先response你要设置一下返回的数据的类型，你是返回一个这个网页是返回一个普通的字符串，返回一个图片还是什么？


这里比如说我要返回一个网页，你得这样写，text，html是网页类型的文本，然后分号再加一个叉site，就是它的字符集 utf-8，这样好像网页能够支持中文。


然后那么要想用 response向浏浏览器响应，网页其实就是通过它里面所的输出流，向浏览器的输出就是了。 Risk boss我们可以通过它获取到一个输出流，它底层的自动建好的，不用你去自己创建，然后得到的是一个print writer、类型。


好，那这个需要处理一下这个异常我就给他去开始一下。好了，然后。接下来我就通过这个right向浏览器打印一个网页，怎么打印怎么输出是 Write。然后比如说我要输出一个一级标题，我就可以这样写，输出一个一级标题留客网吧，当然你这样写这不是一个完整的网页，应该是在它之前你还要输出黑的 head body这样的标签对吧？在他之后还得有body结尾，还有更多其他的内容。


总之网页很复杂，标签很多，我们就是这样一一行的去write的，所以你看我们直接利用底层的对象去做这样的事情会非常的麻烦。但是你了解了以后就知道了它封装的底层到底是干了什么事，其实他就是干了这样的事情，我就偷懒了，我就不输出完整的网页了，因为我们将来不会这么做，只是给你这个演示一下而已。


最后你流你用完以后把它关掉，放在那里把它关掉。


不过 Java7它有一个新的语法，你在 try的后面加一个小括号，然后把这个right在这个小括号里创建，那么编译的时候它会自动的加一个find里，然后把 writer在find里的close，这是Java7的新的语法，这样的话会让这个程序更简单，就省得写find里，当然前提是你这个writer必须得有close方法，当然这个肯定是有的，好这个方法就写完了，写完以后我们启动一下这个程序，咱们看一下，我选中主要的类核心的类，然后点启动，启动以后，那么打开浏览器我来访问一下刚才的方法， community阿尔法，然后 HTTP你看返回的就是牛客网，对吧？


没有问题。


当然你也可以右键检查，在插件里更仔细的看一下，还是选 net work，网络刷新一下，看这个请求，我们只返回了一个请求，因为网页上没有依赖任何资源，非常简单，然后你看这个请求看响应的类型是html看响应的具体的代码，一级标题，相当于是一个简化版的网页，再回到开发工具。


你看一下控制台它所打印的请求的数据，你看这个get咱们第一个不就是请求方式吗？Get请求，然后请求路径是阿尔法HTTP没问题，然后中间循环输出的是这个请求的消息头有非常多的数据，我们就不用去细看了，当然我这是两次，第二咱看第二次，然后路径中间有一大段是请求消息头，最后业务数据参数是闹，因为我没有传参好，我传个参怎么传很简单，在路径后面拼一个问号，然后扣的等于比如说123就可以了，这个问号就代表后面是带参数的，扣的是参数名，123的是参数值，当然你也可以带更多的参数，如果再来一个参数你就中间加and比如说扣的，比如说name等于张三，假设是这样，回车看控制台，你看控制台这回输出的扣的是123没有问题，当然内部我没处理，就是这样。


好，总之 HTTP协议当中的请求数据，响应数据，我们通过浏览器插件能看到我们在服务端利用这样的对象也能得到，那么这是我们对底层的对象的一个直观的了解。后面我会给你演示它封装之后的更简便的处理请求的方式，处理请求的方式是什么样。


好，下面我们就立刻来演示更简便的方式怎么去做，那么我们处理浏览器的请求其实分两个方面，一个是我要接收请求的数据，一个它基于request，一个是像浏览器返回响应数据基于response，那么因此我们就需要学习两方面的内容，怎么接收请求数据，怎么返回响应数据，那我分开来演示。


我首先先给大家演示我们请求的数据我们怎么去处理，就是用简便的方式。


好，那么首先给大家演示一下这个get请求怎么处理。Get是获取的意思， get请求一般用于获取某些数据，当我们向希望向服务器获取某些数据的时候，通常是盖的请求，而且我们默认发送的请求就是盖的请求，就像刚才我发送的请求， get请求。


因为你看刚才我们打印出来的这个值不就是get，默认就是get。


好，我举个例子，比如说我要做啥，比如说我想查询所有的学生，假设我要查询所有的学生，比如说我们查询的路径是这样的，students然后问号查询所有的学生学生可能会很多，我希望分页显示，而分页的时候就需要带上一些条件了，你要告诉服务器我当前carry的当前是第几页，比如说等于一当前是第一页，然后我每一页最多显示几条数据，比如说20那么分页条件需要两个条件，一个是当前是第几页，第二个当前最多显示多少条数据，就这样传过来。


我这个服务器怎么处理，我就给你演示一下。


好，我还是先通过瑞克斯麦平声明一下请求的路径，可以像刚才这样声明，但这种是简化的方式。其实注解里边还有很多的参数，可以有更丰富的用法，我给你演示一下，你可以这样通过pass来指定路径，我说的路径不是students对吧？Students访问路径是students，然后我可以再加一个method，这个参数声明一下请求的方式，request，method点get。就是我强制这个方法必须是get请求才能访问到。


其实像之前的方法我们没有加这样的限制，那么如果是post请求也是可以进来的，但我这样限制以后，他就只能处理该的请求了，这样比较合理，就是说你你明确你自己到底要处理什么请求，这样比较合理，因为请求方式有很多，如果什么都能处理的话，其实但是你实际上又只用了其中的一种有可能会有漏洞，所以说最好是这样指定清楚，然后我们关注的是请求，那么响应的话我就用简便的方式，我还是用之前的 response body，然后返回一个简单的字符串就行了，后面我再单独演示响应怎么做好，那么写成public返回字符串词句，然后这个方法名我叫get students，最终我就返回随便写个数据上16等次。


意思一下，我们重点是关注我请求当中带的这两个参数，我怎么取，其实很容易，你只要加一个参数就行了。比如说我想获取这个参数，我就int carrot就行，我要取这个参数我就再来 internet，只要这个参数名和你传过来的参数名保持一致，其实就这样就能得到。


那么dispatch server的检测到这个参数以后，会把request当中的与之匹配的参数直接复制给他，这样其实就可以，但是有些时候可能比如说我初次访问学生页面的时候，可能我没有加这个参数，就有的时候这个参数可能是没有的，如果没有的时候这个值怎么处理？


如果你想处理这种情况可以加上注解，再进一步就对它做一个更详尽的处理注解，可以这样写。


Request，Paro，请求参数，括号里边我们可以写name，current意思是request当中的名为current的值，给这个参数， current与它对应给它，复制给它，好，然后还可以再加一个条件叫require等于force。意思是你也可以不传参数进来，没有问题。


好，然后可以再写一个default value，如果你不传的话，默认值是几？默认值是一，我们可以通过request、panel、注解，对这个参数的注入做更详细的声明。


同理 Limit也是这样的，我再给他 copy一份，这个就得叫limit。 Request当中名为limit的参数，复制给这个参数，然后它也是可以不传，如果不传的时候它默认是10。好，我们重点就看一下这个参数我能不能得到，我在这里打印看一下。打印 carry的。再打印里面的。好这样就可以了。那么写完以后我需要重新编译一下这个程序，你可以按快捷键 CTRL加f9，然后看一下它运行的情况有没有，它已经重启了，然后我就打开浏览器去访问一下阿尔法，然后是16.4返回的，结果这个字符串没有问题，我们主要是看控制台，你看我刚才的路径里没有敲条件对吧？


所以它默认是1和10默认值有效了，我来把这个条件输入一下，看看问号，开问题等于3，and limit等于50，好，再看控制台三五十，所以你看在spring mvc的框架之下，我们想获取浏览器中的一些参数，在该的请求当中就非常的容易非常的方便，就是这样去做。


那么除了这种方式以外，其实还有一种方式，当然也是该的请求也是比较常见的，比如说我不是要查询所有的学生，我要查询一个学生，根据学生的ID，根据学生的编号查询一个学生，我这个路径可以这样设置 Student，但是你可以这样，比如说ID等于几，我们通常也这样做，就16档的斜线，然后加一个编号123，直接把参数编排到路径当中，成为路径的一部分。


当这个参数成为路径的一部分的时候，就不是这样获取了。怎么去获取？再给你演示一下。我再写上瑞克斯卖品注解，声明它的访问路径是student斜线，ID Id表示指代的是它是个变量，用大括号括起来，指代的是这一级数据，然后逗号我再要求他的请求方式也是那么响应我们还是用 response body返回一个字符串就完了，那么增加一个方法返回试卷，方法名叫get student反馈一个学生。


好，然后我就直接把反馈值先写上，16的一个学生。那么现在的问题是我怎么得到这个参数其实也比较容易，我们需要用另外的一个注解去搞定，这个时候我们需要用主角叫pass where路径变量，然后括号里面写上变量的名字，它不就叫ID对吧？然后我们注解会帮我们从路径当中得到这个变量，然后复制给你的参数，我们这个参数我还叫ID，这样就可以了。然后我把 ID打印看一下，看能不能得到，写完以后再重新的编译 CTRL f9好。


然后我打开浏览器，访问一下刚才的查询一个学生的路径，student然后比如说101回车，结果2460的没有问题，看控制台101没问题。


总之我们在get请求当中有两种传参的方式，一种是问号拼，一种是把参数拼到路径当中，这两种方式获取参数的方式有所区别，用不同的注解，大家要了解我们后面的项目中都会用这种有些时候适合用这种具体情况，我们到时候再具体来说了。


好，那么盖的请求是向服务器获取数据，那么如果浏览器是向服务器提交数据，其实有好几种请求方式都支持，但通常我们都用post POS的请求就是浏览器向服务器提交数据的时候使用的，那么其实虽然说请求方式有好多种，但是我们只需要用到get和post就能解决一切问题，我们的项目中就只用这两种请求就够了，其他的我们就不用了。


那么至于其他的请求，他可以做什么，你可以去看看手册做一个了解。


那么接下来我就给大家演示一下 pose的请求，当浏览器向服务器提交数据的时候，这个时候我该怎么处理，我该怎么获取它里面的参数，那么浏览器要想上服务器提交数据，首先浏览器它得打开一个带有表单的网页，你通过表单填写数据以后才能提交给服务器对吧？


现在我们还没有网页，我就在项目中创建一个静态的网页没有变化的。


注意我们在time place当中存放的是模板，其实是动态的，因为它里边有动态的这个表达式，是能够被model中的数据替换的，我现在要创建静态网页，静态的资源要放到时代的一个之下，你静态网页静态的图片，静态的CS文件， GS文件都放到这里来。


那么这样我就在这个时代之下建一个目录，你有一个directory就叫html我要在这里创建一个静态网页，那么这个网页 new htmfl我取名叫student，因为比如说我要新增一个学生，然后发送给浏览发送给服务器。


Ok。


好，网页的基本结构是有了，标题我改一下，叫做增加学生，然后我要在报道之内就加一个表单放表，单里需要有一些


文本框用来输入数据添加一个段落，然后比如说我要输入学生的姓名加一个文本框text，然后要注意文本框里的数据，你填完以后，当你提交的时候，你这个数据传给服务器，你需要给它取个名字，那么我们通过文本框的name，属性给它取个名字，这个名字我就叫name，参数名就叫name。


好，再来一个学生除了有姓名再来一个年龄，也是一个文本框类型，也是test参数名，我叫edge。好，就填两个数据，然后你还得点一个按钮才能提交数据对吧？这个按钮是一个300台按钮，提交按钮的名字，我取名叫保存。


好，那么这个表单要提交给谁，用什么样的方式提交，你还得加以声明，你要写成master的请求方式是post，我想要post的请求提交数据，然后提交的路径是action，action说明提交的路径那路径是写上 community阿尔法，然后student community阿尔法student就是这样一个路径。


好网页我暂时先写好了，能不能访问咱们试一下，我们先不着急去写CTRL了，我把它CTRL f九重新编译一下。


好，那么编译之后我去访问它，你注意你访问它的时候，它是放在 Style的一个目录下， style这一级路径你不用敲，但是style下级 h开发路径你需要敲，怎么敲呢？


我给你演示一下就community然后下面的话我要访问的是静态页面，就不是那个CTRL了，就不是阿尔法了，它放在的是html路径下，名为student的html，你看我就打开了网页对吧？剩下就填数据了。我先不着急填，因为我还没有在服务端加路径已处理这个请求，有人说你不有 Studio的路径，有吗？看一看有吗？没有，这个是斯诺登的不假，但是他下有个下级，而我们刚才所声明的路径只有斯诺登的这一级跟他层次不一样。


下面我就再写一个方法来处理 pose的请求，当然我这里再强调一下，其实我们通过盖的请求也可以向服务器传，数据其实也可以把name is传过来，但为什么不用这个get呢？因为get请求传参的时候，这个参数是在明面上，即便是你保存，它也会在路径带上问号什么？一长串，这是其一。


第二个你用这个路径上面带参数，这个路径的长度是有限制的，它不是无限长的，所以说如果你这个参数有很多项的话，盖的请求传不下，所以盖的请求传站一个是站明面上传，第二个它传的数据量有限，所以我们通常提交数据的时候就不用get请求，你要注意，我就再新写一个方法来处理 post的请求，那么声明访问路径pass等于 student然后强调一下，那么请求方式是request，master的点，post这个是一个post的请求，那么响应我还是简单处理，response body返回一个字符串算了，那么当前的方法的目的是为了保存增加学生，所以我叫 save student。


好，我先把这个字符串的返回，比如说我就保存成功了，我就返回一个success。那么这个方法怎么去获取post的请求当中的参数，其实很容易直接说明参数，这个参数的名字与你表单中数据的名字一致，它就自动会传过来，就这么容易。


那么我就增加一个使用类型的参数名为name，我再增加一个int类型的参数名为h和表单一致，它就能传过来。好，下面我再打印出来，咱们看看，好，我们就试一下，重新编译。那么编译完以后，我再回到刚才的页面，我得刷新一下，然后填个名，这里孙悟空就孙悟空年龄15就15，然后点保存success。那么看控台孙悟空15没问题，你看我们提交数据就是这样的，简单非常的方便，当然了实际上你也可以像这种方式就加 Require注解，但其实我们通常都不加，只要这个名称对应它自动传过来就可以了。


好，那么以上是 get请求，post请求的处理方式，那么请求的处理方式我就演示完了。


接下来要演示的是我们如何向浏览器返回响应，数据响应是我们要关注的焦点，那么之前我们都是响应字符串，这种比较简单的内容，下面我就给你演示一下我怎么向浏览器响应的是一个动态的html，响应html数据，那么假设我要浏览器，我要查询一个老师服务器就帮他查询到了一个老师相关的数据，就要把老师相关的数据响应给浏览器，当然我们想的是一个网页的形式，我们看一下怎么来做。


好，那么首先我还是声明一下，访问路径 pass等于提成我要获取一个老师，然后请求的方式get因为是获取 get，这个时候你要返回html，你就不要加注解了，不加注解默认它认为就是返回html。


好，这个时候你返回的数据类型就先不要写成string了，我们通常写 model and view类型。换个名我就get提成，返回的数据类型这个对象你一看就能看明白，它返回的是model和view，两份数据，我们之前不是讲了spring mvc的原理吗？所有的组件都是由dispatcher serval eyot去调度的。那么despite serverlet会掉 CTRL的某一个方法，这个方法需要给它返回猫的数据，也需要给它返回视图相关的数据，然后他把model和视图这个数据都提交给模板引擎，然后由模板引擎进行渲染，生成动态的html，对吧？


所以说对象里面封装的就是我要给despatcher salade返回的modle和Wille两份数据。


好，那怎么去做非常容易，我先实例化这个对象 mode and will末端的6等于6model and没有然后我需要往里传动态的值，假如说老师的名字，老师的年龄，我就model and will点 I I的object，然后参数名叫name，参数值我就写死了。


张三儿。再来一个model。Under view点I的object配置，比如说30以此类推，就是你那个模板里需要多少个变量，你就艾特多少个数据进去就可以了，那两个就已经能说明问题了，然后你还要往这个对象里设置一个模板，它的模板的路径和名字。那是这样社长。Model and view。点site，view，name。好，那么这个模板我们需要把它放在哪放在下。Time please这个目录你不用写，它的下级目录你要写，比如说我一会儿会把这个模板放到template下面的一个demo的目录下，所以我这个demo要写上，然后后面要写上这个模板的名字，什么点html因为time leave引擎它默认的它的模板就是sm文件，怎么说是一个固定的这个方式，所以说后缀不用你写，你只要写上文件名就可以了。


比如说这个文件名我叫will，就这样写就可以了。


那么你要知道 will其实指的是veal的sm ail，好，写完以后他要求返回这个对象，我就返回model and view就行了，那么这个方法就完成了，但是还缺一步你这个模板需要写出来，那么才能够从这儿走到那个模板，才能浏览器才能得到一个stml那么我下面就需要在 times的下面创建一个目录，叫demo，然后在demo的下面创建一个 html，叫will，注意这个html不是静态的，是timely模板，那么我们需要进行一个声明，你得让这个服务器知道它是模板，而不是普通的html那么首先你要在这写上这么一句话，xmlns冒号th等于HTTP冒号，双曲线三w点thyme Liffe点org。


这句话就声明说我当前的网页是一个模板，这个模板的语法是来源于他们利福官网是这样，所以要做这样一个声明，声明完以后，你在这个页面上可以写出你想要表达的内容。


比如说我就希望写两个段落，第一个段落显示姓名、老师、姓名，然后第二个段落我要显示的是这个老师的年龄，但是我先把标题改一下，改成teacher。好姓名和年龄是动态的值，我们需要利用模板引擎的语法去解决怎么写是这样的。我在p上写th Th其实就是time leave的缩写，冒号，然后 text等于意思是什么？就 P的文本应该是等于这里边的一个变量，这个变量你要用表达式来写，到了大括号name，这个name就是从model中取的 name的值，总之你这个是 time leave的语法。


那么这句话在模板引擎渲染网页的时候，它就会获取变量，然后放到 p里。好，你这个会的 a的就跟它一样对吧？也是这么写，只不过这个是a的变量。


好，那么完成以后我再编译一下这个程序，然后我们试一下路径，叫teacher试一下，这个是committee的阿尔法，teacher你看我就得到了网页张三30，但这个网页比较简陋，看起来好像不像是个网页，你可以检查通过插件去看刷新，你看teacher这个请求再刷新一下，你看teacher请求它的类型是document，document就是网就是文档，就是网页一点进去看，他想用的类型是html对吧？


然后看响应的具体的内容也是网页的格式对吧？你看 P ta是没有了，那么变量跑到了p的内部，这个是由谁来做的？就是模板引擎来做的，就是这样一个开发过程。


好，那么实际上还有一种响应的方式，也可以返回网页，然后比略简单一点，但是差不多也给大家演示一下，比如说这个例子是什么，比如说我要查询学校，跟这个类似我要查询学校，我还是要写上声明一下这个路径， pass等于辞工，也是该的请求查询学校，然后这个方法我就返回10卷，这个方法就不返回model and view了，因为简化了，然后方法名我叫get持股。


好，然后我把瑞特写一下， rett什么，其实它Ryton就是veal的路径，我还是利用刚才view的html，所以路径就是它。你注意如果我们返回的类型写成死菌，它指的是返回的是will的路径，那么 model数据怎么传？因为它返回了死菌这里不可能带model的数据了， Model怎么办？我们需要加一个参数，类型就是model， model对象不是我们自己创建的，是despatcher serverlet，在调这个方法时，他一看你有model对象，它就会自动实例化 model对象传给你，然后因为这个是一个并是个对象，那么dispatcher他是持有对象的引用的，那么你在这个方法内部往这个对象里存数据，那么它也能够得到好，所以说我们就往里装数据就可以了，也就是说其实这个方法和上面这个逻辑是类似的，只不过上面这个方法更直观，是把model和vivo的数据都装到了一个对象里，而这个不是那么装的，是我们把model数据装到这个参数里，把veal的仕途直接返回，那返回的值给了despatch ursolate，而这个model的引用dispatcher serverlet也持有着，所以这两份数据他照样能得到结果和这个是一样的。


那么我就再给这个学校加加上一个名字和一个年龄就model点。 Model是点I的。At，它和 model and view的方法不太一样，但也大同小异，参数名叫name参数值比如说学校，比如说北京大学好，再来一个年龄猫都有点I的h标的配置，抱歉，北京年龄北京大学的年龄我不知道，我就随便瞎写一个对不对？就是一个例子，80。


好，那么完成以后我们测试一下，看能访问重新编译。好服务重启了，然后我打开浏览器访问一下子贡北京大学80是吧？效果也是一样的。


对比来看很显然是第二种方式更简单一点，第一种方式略微的麻烦一点，所以我是比较喜欢用这种方式，我建议大家课上也开发的时候也尽量用这种方式，毕竟它简洁一点，那么这是我们像浏览器响应html数据的两种办法，除了能够响应 html以外，那么服务器还能够向浏览器响应，其实任何的数据，那么还有一种情况比较常见，就是像浏览器想用Jason数据，想用Jason数据，那么什么时候要响应Jason数据？


一般是在异步请求当中。好，什么样的请求是异步请求？


其实这个例子很常见，我随便给你举个例子，比如说比如说我要注册 B站哔哩哔哩，我就打开 b站，然后这在哪注册在这儿，在这点我去注册，那么我注册b站的时候，我要我输入我的密码，输入昵称，那么你输入昵称以后，当文本框失去焦点的时候，或者说当你光标切换的时候，他就会判断昵称是否被占用。


咱们试一下，比如说我的昵称叫游客网，你看我输入完以后，他立刻就告诉我该昵称已被他人使用，你注意那很显然他要判断昵称没用，一定是访问了服务器查数据库，知道的对吧？


所以说在我刚才输入完优酷网以后，他查了数据库房的服务器，但是我们这个页面没有被刷新，那么这种请求就叫异步请求，就当前网页不动，当前网页不刷新，但是他悄悄的访问了服务器一次，得到了一个结果，很显然本次结果不是一个html因为整个网页不刷新，它只返回了判断的结果还是否，对还是不对而已。


那么了解了什么是异步请求以后，我们再回到这个程序里，当然我当前并不会给你演示怎么发送异步请求，后面我们项目中会有这方面的需求，到时候我们再演示，现在我们重点是关注说我们怎么下浏览器，响应这样的数据，有人会想这个Jason数据是什么样的数据，或者说它有什么价值，你注意我们当前所编写的代码是Java代码，面向对象的语言，所以我们这个代码时时刻刻都能得到一些招对象，然后比如说我要把这个账号对象这些数据返回给浏览器，假如我要把这个账号对象数据返回浏览器，浏览器解析这个对象用的是GS那GS也是面向对象语言，那么他肯定是希望能得到一个js对象，有可能将Java对象直接转成js对象吗？


显然不可能，因为这是两种语言对吧？


这不兼容的，那么我们通过Jason就可以实现两者的兼容，杰森实际上是一个具有特定格式的字符串，什么格式咱们一会就能看到，我们可以把Java对象转成这种字符串，然后给GS给浏览器传过去，那么浏览器可以将这个字符串转为GS对象，因为任何语言都有字符串类型，而这个字符串的格式是比较通用的格式，任何语言都能够进行解析，都能够很方便地将其转为对象，所以说它起到一个衔接的作用。


所以有了这种格式的数据，那么Java对象可以转成GS对象，也可以转成c sub对象，也可以转成其他任何语言的对象，这样就很方便。


所以在跨语言的环境下， Jason是我们非常常用的一种字符串形式，那么尤其是在异步请求当中，我们客户端需要你返回一个局部验证的结果，是否成功失败这样的结果，那么用这种方式就很方便。


好了，那么下面我给你演示一下我怎么去向浏览器响应这样的字符串，好，首先我再写一个例子， request，卖品声源访问路径没有写错了，pass等于什么？比如说emp假如说我要查询一个员工， Emp是员工，然后查询请求方式是request，method点get，然后如果我们需要向浏览器返回的是节省的话，那么你就得加上注解，response bardee，因为如果你不加他的话，他会认为你反馈的是html，加上他以后才可以返回这样的字符串。


好了，然后我就写一个方法，这个方法我反馈的是emp员工数据一个员工，我可以用一个map对它进行封装，当然你也可以自己定义一个类叫emp也可以，那效果其实和这个是一样的，然后死卷不对方法名我就get emp然后这个方法之内我就实例化 map，然后往里存一些值，最后再返回就可以了。


那么员工我要往里存什么呢？存一个name，张三，好再存再存一个年龄，比如说23再存一个薪水，比如说8000，好，最后我就返回延聘，那么dispenser service调这个方法的时候，一看你加了注解，并且你声明返回的是这样的类型，它自动的会把 map转成一个Jason字符串，发送给浏览器，咱们可以测试一下，重新编译。


好，编译完以后我打开浏览器访问一下 emp员工，好，你看就这样的字符串就是Jason字符串，然后它的格式非常的简洁，首先大括号代表这是一个对象，然后里边是key value结构，name k值是张三儿，塞勒瑞是k值是8千，配置是k23是值，那么每一对py6之间用逗号隔开，所以这个结构非常的通用，别管你是map还是一个我们自定义的一个类型，比如说T恤类型，时间段的类型有属性和属性值，所构成都能转化成这种字符串，非常的方便，好了这个值也没有问题，你可以看一下这个插件，刷新一下，看这个请求，那么他响应的类型是杰森，这是自动的。


那么还有一种情况也比较常见，有些时候我们返回的数据可能不是一个员工，可能是一组员工，可能有这种多个相似数据的结构的情况。


那么我们再尝试一下这种方式，比如说我要查询所有的员工，好我就就跟这个类似复制一下，查询所有的员工路径，我叫emps也要加上risk boss包点，因为我要响应的是Jason返回的方法名叫加个s返回的类型，多个员工我加上一个集合，每一个员工是一个map，所以集合里装的是一个map。


好，那么我在方法之内就创建一个集合，然后最终返回的就是集合类似的，然后我需要像集合之内装几个数据，我先把张三装进去，然后我再来两条数据太少了。再来一个这个内容比如说改成叫李四，比如说他24岁，假设他9000块钱，我再来一个王五，王五假设他是25岁，1万块钱，好就这样了。


那么返回集合以后重新编译，然后我再打开浏览器，访问一下，查询所有员工的这个方法。好，你看我们得到的是这样的数据，外面是一个方括号，表示这是一个数组，然后方括号之内有三个大括号表示这里面有三个对象，每一个对象就是ky6、ky6、ky6所构成的这样一个结构，它里面这就是集合形式的这么一个阶层字符串是这样的，所以你想一个map可以拼成这样多个map，又可以拼成这样一个数组，所以说基本上我们所有的形式的数据都可以用这种简洁的方式所表达是非常方便的。


好了，以上就是我们在spring mvc当中处理响应的最常用的几种方式，我们后面的项目中会经常反复的用到。那么这次课我们先演示到这里，咱们下次课再见。